<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CanÄ±m Annem ğŸŒ·ğŸŒ¹</title>
<style>
  :root{
    --rose:#a60044; --rose-deep:#7b0033;
    --bg1:#ffe6f2; --bg2:#ffd3e7; --bg3:#ffb3d2;
    --menuTile:#ffffff; --menuBorder:#ff99c2; --menuGlow:rgba(255, 64, 129, .25);
    --text:#300018;
  }
  *{box-sizing:border-box}
  html,body{margin:0;height:100%;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;color:#fff;background:#ffd6e8;overflow:hidden}

  /* Ekran katmanlarÄ± */
  .screen{position:fixed; inset:0; display:none}
  .show{display:flex; align-items:center; justify-content:center}

  /* 1) GiriÅŸ */
  #welcome h1{font-size:clamp(36px,8vw,60px); color:#a60044; animation:fadeOut 3s 2s forwards}
  @keyframes fadeOut{to{opacity:0;visibility:hidden}}

  /* 2) Mektup */
  #letterScreen{background:#ffe4ef}
  .envelope{width:min(80vw,300px);height:min(55vw,200px);background:#fff;border:3px solid #a60044;border-radius:10px;box-shadow:0 0 40px rgba(0,0,0,.2);cursor:pointer}

  /* 3) Sinematik yazÄ± */
  #scrollScreen{background:radial-gradient(circle at center, #8b0045 0%, #250010 100%);color:#fff}
  .scrollText{position:absolute;width:100%;text-align:center;bottom:-100%;text-shadow:0 4px 12px rgba(0,0,0,.8);font-size:clamp(30px,7vw,70px);font-weight:800;line-height:1.35;padding:0 1rem;animation:scrollUp 22s linear forwards}
  @keyframes scrollUp{0%{bottom:-100%}100%{bottom:120%}}

  /* 4) Ana menÃ¼ */
  #menu{flex-direction:column;gap:18px;background:linear-gradient(180deg,#ffbed8,#ffcce3);text-align:center;color:#a60044;padding:12px}
  #menu h2{font-size:clamp(30px,7vw,60px);margin:0 0 6px}
  .tiles{display:grid;gap:16px;width:92%;max-width:1024px;margin:0 auto;grid-template-columns:repeat(2,minmax(0,1fr))}
  @media (min-width:860px){.tiles{grid-template-columns:repeat(3,minmax(0,1fr))}}
  .tile{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:160px;border:3px solid var(--menuBorder);background:var(--menuTile);border-radius:22px;box-shadow:0 16px 40px var(--menuGlow);text-decoration:none;color:#a60044;position:relative;overflow:hidden;transition:transform .2s}
  .tile:active{transform:scale(.97)}
  .big{font-size:clamp(24px,5.6vw,36px);font-weight:900}
  .small{font-size:clamp(14px,3.5vw,18px);opacity:.9;margin-top:6px}
  .sparkle{position:absolute;inset:auto -40% -120% -40%;background:radial-gradient(50% 50% at 50% 50%, rgba(255,64,129,.16), transparent 70%);animation:float 7s ease-in-out infinite}
  @keyframes float{50%{transform:translateY(-18px)}}

  /* 5) Alt sayfa iskeleti */
  .page{position:fixed; inset:0; display:none; background:linear-gradient(180deg,#ffd6ea,#ffe8f2); z-index:21; color:#a60044}
  .page.show{display:block}
  .page header{display:flex; align-items:center; gap:10px; padding:14px}
  .back{border:none;background:#fff;color:#a60044;border:2px solid #a60044;border-radius:999px;padding:10px 14px;font-weight:800;font-size:clamp(16px,4.5vw,18px)}
  .page h2{margin:0 auto;color:#a60044;font-size:clamp(22px,5.5vw,30px)}
  .page .content{padding:14px 16px 28px;height:calc(100% - 64px);overflow:auto;font-size:clamp(18px,4.4vw,22px)}

  /* 6) AnÄ±lar â€” galeri */
  .toolbar{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-bottom:12px}
  .btn{border:2px solid #a60044;background:#fff;color:#a60044;border-radius:999px;padding:10px 14px;font-weight:800;font-size:clamp(16px,4.5vw,18px)}
  .btn:active{transform:scale(.98)}
  .grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
  @media (min-width:780px){.grid{grid-template-columns:repeat(3,minmax(0,1fr))}}
  .card{background:#fff;border:2px solid #ff9ec6;border-radius:16px;box-shadow:0 10px 24px rgba(255,64,129,.18);overflow:hidden}
  .card img{width:100%;display:block;max-height:52vh;object-fit:cover}
  .cap{padding:8px 10px;color:#7b0033;font-size:clamp(16px,4.4vw,18px)}
  .card .row{display:flex;gap:8px;padding:8px 10px}
  .card .row .mini{flex:1}
</style>
</head>
<body>

<!-- GÄ°RÄ°Å -->
<section id="welcome" class="screen show">
  <h1>CanÄ±m Annem ğŸŒ·ğŸŒ¹</h1>
</section>

<!-- MEKTUP -->
<section id="letterScreen" class="screen">
  <div class="envelope" id="envelope" title="Dokun aÃ§mak iÃ§in"></div>
</section>

<!-- SÄ°NEMATÄ°K YAZI -->
<section id="scrollScreen" class="screen">
  <div class="scrollText" id="scrollText"></div>
</section>

<!-- MENÃœ -->
<section id="menu" class="screen">
  <h2>ğŸ’– Ana MenÃ¼ ğŸ’–</h2>
  <div class="tiles">
    <a class="tile" data-open="pg-anilar"><div class="sparkle"></div><div class="big">ğŸ“¸ AnÄ±lar</div><div class="small">Zaman yolculuÄŸu</div></a>
    <a class="tile" data-open="pg-tarifler"><div class="sparkle"></div><div class="big">ğŸ° Tarifler</div><div class="small">Lezzet defteri</div></a>
    <a class="tile" data-open="pg-notlar"><div class="sparkle"></div><div class="big">ğŸ’¬ NotlarÄ±m</div><div class="small">Sana yazdÄ±klarÄ±m</div></a>
    <a class="tile" data-open="pg-bugun"><div class="sparkle"></div><div class="big">ğŸŒ¹ BugÃ¼n Mesaj</div><div class="small">Bir tebessÃ¼m</div></a>
    <a class="tile" data-open="pg-hakkinda"><div class="sparkle"></div><div class="big">â„¹ï¸ HakkÄ±nda</div><div class="small">KÃ¼Ã§Ã¼k hediye</div></a>
  </div>
</section>

<!-- SAYFALAR -->
<section id="pg-anilar" class="page">
  <header><button class="back" data-back>â† Geri</button><h2>ğŸ“¸ AnÄ±lar</h2></header>
  <div class="content">
    <div class="toolbar">
      <input id="photoInput" type="file" accept="image/*" multiple style="display:none">
      <button class="btn" id="addPhotos">ğŸ“· FotoÄŸraf Ekle</button>
      <button class="btn" id="clearPhotos">ğŸ—‘ï¸ Hepsini Sil</button>
      <span style="font-weight:700">Not: FotoÄŸraflar telefonunda saklanÄ±r (silene kadar).</span>
    </div>
    <div id="galGrid" class="grid"></div>
  </div>
</section>

<section id="pg-tarifler" class="page">
  <header><button class="back" data-back>â† Geri</button><h2>ğŸ° Tarifler</h2></header>
  <div class="content">
    <p>Buraya kart kart tarifler ekleyeceÄŸiz (bir sonraki adÄ±mda).</p>
  </div>
</section>

<section id="pg-notlar" class="page">
  <header><button class="back" data-back>â† Geri</button><h2>ğŸ’¬ NotlarÄ±m</h2></header>
  <div class="content">
    <p>Basit bir not defteri de ekleyeceÄŸiz (bir sonraki adÄ±mda).</p>
  </div>
</section>

<section id="pg-bugun" class="page">
  <header><button class="back" data-back>â† Geri</button><h2>ğŸŒ¹ BugÃ¼n Ä°Ã§in Mesaj</h2></header>
  <div class="content" id="msgArea"></div>
</section>

<section id="pg-hakkinda" class="page">
  <header><button class="back" data-back>â† Geri</button><h2>â„¹ï¸ HakkÄ±nda</h2></header>
  <div class="content">
    <p>Bu site, â€œCanÄ±m Annemâ€e kÃ¼Ã§Ã¼k bir sÃ¼rpriz olarak hazÄ±rlandÄ±. Her detay sevgiyleâ€¦</p>
  </div>
</section>

<script>
  /* ==== YardÄ±mcÄ±lar ==== */
  const $ = s => document.querySelector(s);
  const show = id => document.querySelectorAll('.screen').forEach(sc=>sc.classList.toggle('show', sc.id===id));
  const openPage = id => { const p = $('#'+id); p.classList.add('show'); };
  const closePages = () => document.querySelectorAll('.page.show').forEach(p=> p.classList.remove('show'));

  // 1) GiriÅŸ â†’ 3 sn sonra mektup
  setTimeout(()=>{ show('letterScreen'); },3000);

  // 2) Mektup â†’ sinematik yazÄ±
  const message = [
    "Anne...",
    "GÃ¼lÃ¼ÅŸÃ¼n evimin Ä±ÅŸÄ±ÄŸÄ±,",
    "sesin iÃ§imin huzuru.",
    "Kalbim seninle gÃ¼Ã§ buluyor.",
    "Her sabah 'iyi ki varsÄ±n' diyorum.",
    "Seni Ã§ok seviyorum ğŸ’–"
  ];
  $('#envelope').addEventListener('click',()=>{
    show('scrollScreen');
    const st = $('#scrollText');
    st.innerHTML = message.map(l=>`<div>${l}</div>`).join('<br>');
    st.addEventListener('animationend',()=>{ show('menu'); bindMenu(); fillTodayMessage(); }, {once:true});
  }, {passive:true});

  /* ==== MenÃ¼ baÄŸla ==== */
  function bindMenu(){
    document.querySelectorAll('.tile').forEach(t=>{
      t.onclick = ()=> openPage(t.getAttribute('data-open'));
    });
    document.querySelectorAll('[data-back]').forEach(b=> b.onclick = closePages);
  }

  /* ==== BugÃ¼n iÃ§in mesaj ==== */
  const QUOTES = [
    "Bir Ã§iÃ§eÄŸi gÃ¼neÅŸ bÃ¼yÃ¼tÃ¼r, beni sen bÃ¼yÃ¼ttÃ¼n.",
    "DualarÄ±n gÃ¶rÃ¼nmez pelerinim gibi. Ä°yi ki varsÄ±n.",
    "GÃ¼lÃ¼ÅŸÃ¼n evime huzur, sÃ¶zlerin yoluma Ä±ÅŸÄ±k.",
    "Her gÃ¼zel hatÄ±ramÄ±n iÃ§inde sen varsÄ±n.",
    "Anne eli deÄŸen her ÅŸey gÃ¼zelleÅŸir."
  ];
  function fillTodayMessage(){
    const q = QUOTES[Math.floor(Math.random()*QUOTES.length)];
    $('#msgArea').innerHTML = `<p style="font-size:clamp(20px,5.2vw,30px);font-weight:800">${q}</p>`;
  }

  /* ==== AnÄ±lar Galerisi (localStorage) ==== */
  const LS_KEY = 'annem_gallery_v1';
  const galGrid = $('#galGrid');
  const photoInput = $('#photoInput');

  $('#addPhotos').onclick = ()=> photoInput.click();
  $('#clearPhotos').onclick = ()=>{
    if(confirm('TÃ¼m fotoÄŸraflarÄ± silmek istiyor musun?')){ localStorage.removeItem(LS_KEY); renderGallery(); }
  };
  photoInput.onchange = async (e)=>{
    const files = [...e.target.files];
    if(!files.length) return;
    const data = loadGallery();
    for(const f of files){
      const url = await fileToDataURL(f);
      data.push({src:url, cap:''});
    }
    saveGallery(data); renderGallery();
    e.target.value = '';
  };

  function fileToDataURL(file){
    return new Promise(res=>{
      const r=new FileReader(); r.onload=()=>res(r.result); r.readAsDataURL(file);
    });
  }
  function loadGallery(){ try{ return JSON.parse(localStorage.getItem(LS_KEY))||[] }catch{ return [] } }
  function saveGallery(arr){ localStorage.setItem(LS_KEY, JSON.stringify(arr)) }

  function renderGallery(){
    const data = loadGallery();
    galGrid.innerHTML = '';
    if(!data.length){
      galGrid.innerHTML = `<p style="grid-column:1/-1;font-size:clamp(18px,4.5vw,22px)">HenÃ¼z fotoÄŸraf yok. â€œFotoÄŸraf Ekleâ€ ile ekleyebilirsin.</p>`;
      return;
    }
    data.forEach((it,idx)=>{
      const card = document.createElement('div'); card.className='card';
      card.innerHTML = `
        <img src="${it.src}" alt="AnÄ± fotoÄŸrafÄ±">
        <div class="cap">${it.cap||' '}</div>
        <div class="row">
          <button class="btn mini" data-edit="${idx}">ğŸ“ BaÅŸlÄ±k</button>
          <button class="btn mini" data-del="${idx}">ğŸ—‘ï¸ Sil</button>
        </div>`;
      galGrid.appendChild(card);
    });

    // olaylar
    galGrid.querySelectorAll('[data-edit]').forEach(b=>{
      b.onclick = ()=>{
        const i = +b.getAttribute('data-edit');
        const data = loadGallery();
        const val = prompt('Bu fotoÄŸrafa bir baÅŸlÄ±k yaz:', data[i].cap||'');
        if(val!==null){ data[i].cap = val.trim(); saveGallery(data); renderGallery(); }
      };
    });
    galGrid.querySelectorAll('[data-del]').forEach(b=>{
      b.onclick = ()=>{
        const i = +b.getAttribute('data-del');
        const data = loadGallery();
        data.splice(i,1); saveGallery(data); renderGallery();
      };
    });
  }

  // menÃ¼ aÃ§Ä±ldÄ±ÄŸÄ±nda galeri hazÄ±r olsun
  renderGallery();
</script>
</body>
</html>
