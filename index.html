<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Canım Annem 💐</title>
<style>
  :root{
    --rose:#a60044; --paper:#fff8f8; --shadow:rgba(0,0,0,.18);
    --bg1:#fff0f6; --bg2:#ffd9e8; --bg3:#ffc4d6;
    --text:#4a0028;
  }
  *{box-sizing:border-box}
  html,body{margin:0;height:100%;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;color:var(--text)}
  body{background:radial-gradient(circle at 30% 20%,var(--bg1),var(--bg2),var(--bg3));overflow-x:hidden}

  /* 0-3 sn hoş geldin katmanı */
  #welcome{
    position:fixed; inset:0; z-index:20; display:flex; align-items:center; justify-content:center;
    background:transparent; text-align:center; pointer-events:auto;
  }
  #welcome h1{margin:0; font-size:clamp(28px,6vw,44px); color:var(--rose)}
  #welcome p{margin:.6rem 0 0; font-size:clamp(18px,3.5vw,22px)}
  .fadeOut{animation:fadeOut 3s ease forwards}
  @keyframes fadeOut{0%{opacity:1}100%{opacity:0; visibility:hidden}}

  /* Zarf sahnesi */
  #stage{position:relative; min-height:100dvh}
  .env-wrap{position:absolute; left:50%; top:52%; transform:translate(-50%,-50%); z-index:10; opacity:0; pointer-events:none;}
  .env-wrap.show{opacity:1; pointer-events:auto; transition:opacity .6s ease}
  .envelope{
    width:250px; height:150px; background:#fff; border:2px solid var(--rose); border-radius:14px;
    box-shadow:0 12px 30px var(--shadow); position:relative; cursor:pointer;
    transition:transform .9s cubic-bezier(.22,1,.36,1), opacity .6s;
  }
  /* kapak */
  .flap{
    position:absolute; left:0; top:-75px; width:0; height:0;
    border-left:125px solid transparent; border-right:125px solid transparent; border-bottom:75px solid #fff;
    transform-origin:50% 100%; transition:transform .7s ease;
    filter:drop-shadow(0 6px 10px var(--shadow));
  }
  .envelope.open .flap{ transform:rotateX(180deg); }

  /* Kağıt */
  .letter{
    position:absolute; left:50%; top:58%; transform:translate(-50%,-50%) scale(.96);
    width:min(540px,90vw); background:var(--paper); border:1px solid var(--rose); border-radius:14px;
    box-shadow:0 12px 36px var(--shadow); padding:22px; display:none; z-index:9;
  }
  .line{opacity:0; transform:translateY(18px); transition:all .6s}
  .line.show{opacity:1; transform:translateY(0)}

  /* Yazdır butonu */
  .print-btn{
    position:fixed; right:14px; bottom:14px; z-index:9;
    display:none; background:#fff; color:var(--rose); border:1px solid var(--rose);
    border-radius:999px; padding:10px 12px; box-shadow:0 8px 18px var(--shadow);
  }

  /* Menü */
  .menu{
    position:fixed; left:0; right:0; bottom:0; display:flex; gap:10px; flex-wrap:wrap; justify-content:center;
    padding:16px 12px; transform:translateY(110%); transition:transform .6s; z-index:8;
  }
  .menu.show{ transform:translateY(0); }
  .pill{
    background:#fff; color:var(--rose); border:1px solid var(--rose);
    padding:10px 14px; border-radius:999px; box-shadow:0 8px 18px var(--shadow); text-decoration:none;
  }

  /* Bölüm yer tutucular */
  section.page{min-height:100dvh; padding:80px 16px; text-align:center}
  section.page h2{color:var(--rose)}
</style>
</head>
<body>

<!-- Hoş geldin (3 sn) -->
<div id="welcome" class="fadeOut">
  <div>
    <h1>Canım Annem 🌷🌹</h1>
    <p>Hoş geldin 💐</p>
  </div>
</div>

<main id="stage">
  <!-- Zarf -->
  <div id="envWrap" class="env-wrap">
    <div id="envelope" class="envelope" title="Mektubu açmak için dokun">
      <div class="flap"></div>
    </div>
  </div>

  <!-- Kağıt -->
  <article id="letter" class="letter" aria-live="polite"></article>

  <!-- Yazdır -->
  <button id="printBtn" class="print-btn" title="Yazdır 🖨️">🖨️</button>

  <!-- Menü -->
  <nav id="menu" class="menu" aria-label="Ana menü">
    <a class="pill" href="#anilar">📸 Anılar</a>
    <a class="pill" href="#tarifler">🍰 Tarifler</a>
    <a class="pill" href="#notlar">💬 Notlarım</a>
    <a class="pill" href="#muzik">🎵 Müzik Köşesi</a>
    <a class="pill" href="#bugun">🌹 Bugün İçin Mesaj</a>
  </nav>
</main>

<!-- Sayfa iskeleti (sonra dolduracağız) -->
<section id="anilar"  class="page"><h2>📸 Anılar</h2><p>Yakında burada fotoğraflar akacak…</p></section>
<section id="tarifler" class="page"><h2>🍰 Tarifler</h2><p>En sevdiğin tarifler burada toplanacak…</p></section>
<section id="notlar"  class="page"><h2>💬 Notlarım</h2><p>Sana yazdığım küçük notlar…</p></section>
<section id="muzik"   class="page"><h2>🎵 Müzik Köşesi</h2><p>Arka plan müziğini buradan açacağız…</p></section>
<section id="bugun"   class="page"><h2>🌹 Bugün İçin Mesaj</h2><p>Her gün farklı bir güzel söz…</p></section>

<script>
  // ——— Erişimler
  const welcome  = document.getElementById('welcome');
  const envWrap  = document.getElementById('envWrap');
  const envelope = document.getElementById('envelope');
  const letter   = document.getElementById('letter');
  const printBtn = document.getElementById('printBtn');
  const menu     = document.getElementById('menu');

  // ——— 0) Hoş geldin biter bitmez zarfa izin ver
  setTimeout(() => {
    // Hoş geldin katmanını tamamen devre dışı bırak
    welcome.style.pointerEvents = 'none';
    envWrap.classList.add('show'); // zarf görünsün
  }, 3000);

  // ——— 1) Mektup satırları
  const LINES = [
    "Anne…",
    "Gülüşün evimizin ışığı, sesin içimin huzuru.",
    "Küçük bir çocukken olduğu gibi, bugün de kalbim seninle güç buluyor.",
    "Her sabah “iyi ki varsın” diyerek başlıyorum güne.",
    "Sevgin en güzel ilhamım, en güvenli limanım.",
    "Seni çok ama çok seviyorum. 💖"
  ];

  // ——— 2) Zarf tıklanınca: kapağı aç, zarfı uçur, kağıdı göster
  envelope.addEventListener('click', () => {
    envelope.classList.add('open');                       // kapak aç
    envelope.style.transform = 'translateY(-60vh)';       // yukarı uç
    envelope.style.opacity = '0';

    setTimeout(() => {                                    // kağıdı ortaya koy
      letter.style.display = 'block';
      showLines();
    }, 650);
  }, { passive:true });

  // ——— 3) Satır satır yazdır, ardından yazdır butonu + menü
  function showLines(){
    letter.innerHTML = '';
    LINES.forEach((txt, i) => {
      const p = document.createElement('p');
      p.className = 'line';
      p.textContent = txt;
      letter.appendChild(p);
      setTimeout(() => p.classList.add('show'), 600 + i*1600);
    });
    // yazdır ve menü zamanı
    const total = 600 + LINES.length*1600;
    setTimeout(() => { printBtn.style.display = 'inline-block'; }, total);
    setTimeout(() => { menu.classList.add('show'); }, total + 600);
  }

  // ——— 4) Yazdır
  printBtn.addEventListener('click', () => window.print());
</script>
</body>
  </html>
