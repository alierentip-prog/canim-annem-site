<!DOCTYPE html>
<html lang="tr">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>BugÃ¼nÃ¼n MesajÄ± | CanÄ±m Annem</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@800;900&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">
<style>
:root{--ink:#2b0f23}
*{box-sizing:border-box} body{margin:0;background:#0f0a0f;color:#e6ccff;font-family:Poppins,system-ui}
.wrap{max-width:900px;margin:0 auto;padding:24px}
h1{font-family:"Playfair Display",serif;text-align:center}
.card{background:#1a1320;border:1px solid #3f2d57;border-radius:16px;padding:18px;box-shadow:0 10px 30px #0006}
.meta{color:#bda7ff;font-size:13px;margin-top:10px;text-align:center}
a{color:#ffd6e8}
</style></head>
<body>
<div class="wrap">
  <a href="index.html">â† Ana MenÃ¼</a>
  <h1>ğŸŒ¹ BugÃ¼nÃ¼n MesajÄ±</h1>
  <div id="msg" class="card" style="font-size:22px;font-weight:800;line-height:1.5;text-align:center"></div>
  <div id="meta" class="meta"></div>
</div>

<script>
const MESSAGES = [
 "GÃ¼lÃ¼ÅŸÃ¼n evimin gÃ¼neÅŸi, sesin kalbimin ritmi.",
 "KahramanÄ±m oldun; pelerin yerine sabÄ±r ve ÅŸefkat giydin.",
 "DÃ¼nyanÄ±n en gÃ¼zel kokusunu sordular, bende dedim annemin kokusu.",
 "YorgunluÄŸuna Ã§ay demledim: Ä°smi huzur.",
 "AttÄ±ÄŸÄ±m her adÄ±mda duan var, yere saÄŸlam basÄ±yorum sayende CanÄ±m anam.",
 "Ä°yi ki varsÄ±n annem. VarlÄ±ÄŸÄ±n dÃ¼zen, sesin sÃ¼kÃ»n.",
 "BugÃ¼n bir tebessÃ¼m benden sana: Sebebi sensin gÃ¼zel AnnemğŸ©·.",
 "Ellerinin sÄ±caklÄ±ÄŸÄ± bir evi deÄŸil, bir hayatÄ± Ä±sÄ±tÄ±yor.",
 "Kalbimin en gÃ¼venli adresi sensin.",
 "KÃ¼Ã§Ã¼kken tuttuÄŸun elim bÃ¼yÃ¼dÃ¼; artÄ±k ben tutayÄ±m.",
 "Bir teÅŸekkÃ¼r kÃ¢fi deÄŸil, bir Ã¶mÃ¼r yetmez.",
 "Her baÅŸarÄ±ma gÃ¶rÃ¼nmez bir imza atÄ±yorsun: 'Annem'.",
 "Ä°Ã§imdeki cesaretin adÄ± sensin.",
 "GÃ¶zlerin huzur, sÃ¶zlerin ÅŸifa.",
 "Ben bÃ¼yÃ¼dÃ¼m ama sarÄ±lÄ±nca yine kÃ¼Ã§Ã¼ÄŸÃ¼n oluyorum.",
 "RÃ¼zgÃ¢r esse siper olan kalbin var.",
 "DÃ¼nya karÄ±ÅŸsa da, senin varlÄ±ÄŸÄ±n dÃ¼zen verir.",
 "BugÃ¼n de iyi ki varsÄ±n canÄ±m anamğŸ¥°â€¦"
];

const tz = "Europe/Istanbul";
function todayIndex(){
  // YYYY-MM-DD -> bir hash yerine gÃ¼n sayÄ±sÄ±nÄ± mod'a al
  const now = new Date();
  const fmt = new Intl.DateTimeFormat('tr-TR',{timeZone:tz,year:'numeric',month:'2-digit',day:'2-digit'});
  const parts = fmt.formatToParts(now).reduce((a,p)=>{a[p.type]=p.value;return a;}, {});
  const key = `${parts.year}${parts.month}${parts.day}`;
  let n = 0; for(const ch of key) n = (n*33 + ch.charCodeAt(0)) % 100000;
  return n % MESSAGES.length;
}

function nextMidnightMS(){
  // Ä°stanbul'da bir sonraki 00:00
  const now = new Date();
  const nowStr = now.toLocaleString('en-CA',{timeZone:tz,hour12:false}); // "YYYY-MM-DD, HH:MM:SS"
  const [datePart,timePart] = nowStr.split(", ");
  const [Y,M,D] = datePart.split("-").map(Number);
  const next = new Date(Date.UTC(Y, M-1, D+1, 0,0,0));
  // yerel offseti hesaba katmadan timeout milli saniyesi:
  return next.getTime() - now.getTime();
}

function render(){
  const i = todayIndex();
  document.getElementById("msg").textContent = MESSAGES[i];
  const left = nextMidnightMS();
  const hrs = Math.floor(left/3600000), mins = Math.floor((left%3600000)/60000);
  document.getElementById("meta").textContent = `Mesaj Ä°stanbul saatine gÃ¶re her gÃ¼n 00:00'da deÄŸiÅŸir. Kalan: ~${hrs} saat ${mins} dk.`;
}
render();
// gece yarÄ±sÄ±nda yenile
setTimeout(()=>location.reload(), nextMidnightMS()+2000);
</script>
</body>
</html>
